(function(){"use strict";var n=function(n,t){var r=location.protocol==="https:"?"wss:":"ws:",u=r+"//"+window.location.host,i=new WebSocket(u);i.onopen=n=>{t&&console.log("socket opened",n)};i.onclose=n=>{t&&console.log("socket closed",n)};i.onerror=n=>{t&&console.error(n.data)};i.onmessage=i=>{t&&console.log(i);var r=$(n);r.append(i.data+"<br />").scrollTop(r.get(0).scrollHeight)};var f=function(n,t){var r="/connect "+n+" "+t;i.send(r)},e=function(n){var t="/changeroom "+n;i.send(t)},o=function(n,t){var r="/public "+n+" "+t;i.send(r)},s=function(n,t){var r="/private "+n+" "+t;i.send(r)},h=function(){i.send("/list rooms")},c=function(){i.send("/list users")},l=function(){i.send("/ping")},a=function(){i.send("/exit")};return{connect:f,changeRoom:e,messagePrivate:s,messagePublic:o,listRooms:h,listUsers:c,ping:l,exit:a}};typeof chat=="undefined"&&(window.chat=n)});