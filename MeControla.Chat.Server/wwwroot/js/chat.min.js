(function(n){"use strict";var t=function(t,i){var e=location.protocol==="https:"?"wss:":"ws:",o=e+"//"+n.location.host,u=new WebSocket(o);t=t===i?!1:t;u.onopen=n=>{t&&console.info("[Open] Connection established",n)};u.onclose=n=>{t&&(event.wasClean?console.info(`[Close] Connection closed cleanly, code=${n.code} reason=${n.reason}`,n):console.info("[Close] Connection died",n))};u.onerror=n=>{t&&console.info(`[Error] ${n.data}`,n)};var f=function f(n,t){setTimeout(function(){if(n.readyState===1){t!==i&&t();return}f(n,t)},5)},r=function(n,r){f(u,function(){console.log(n);u.send(n);u.onmessage=n=>{t&&console.log(n),r!==i&&r(n.data)}})},s=function(n,t,i){var u="/connect "+n+" "+t;r(u,i)},h=function(n,t){var i="/createroom "+n;r(i,t)},c=function(n,t){var i="/changeroom "+n;r(i,t)},l=function(n,t){var i="/msgall "+n;r(i,t)},a=function(n,t,i){var u="/public "+n+" "+t;r(u,i)},v=function(n,t,i){var u="/private "+n+" "+t;r(u,i)},y=function(n){r("/list rooms",n)},p=function(n){r("/list users",n)},w=function(n){r("/ping",n)},b=function(n){r("/exit",n)};return{connect:s,createRoom:h,changeRoom:c,messageAll:l,messagePrivate:v,messagePublic:a,listRooms:y,listUsers:p,ping:w,exit:b}};typeof n.chat=="undefined"&&(n.chat=t)})(window);